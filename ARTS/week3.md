# ARTS-WEEK

## Algorithm 

#### [299. 猜数字游戏](https://leetcode-cn.com/problems/bulls-and-cows/)
方法：哈希表
思路:
先处理公牛，再处理母牛；

1. 建立副本（其实可以直接用参数，但安全起见还是复制一下）分别保存为ss和sg；
2. 遍历ss和sg如果有符合公牛的情况，则公牛计数countA++, 并把公牛位置写成脏数据 ‘a’ ‘z’；
3. 同时建立hash表，记录猜过的数字和次数
4. 再次遍历ss，并以ss[i]为键在hash表中查询，如果出现过就将母牛计数countB++，同时把hash中的计数减一；
5. 最后组装答案返回

```cpp
class Solution {
public:
    string getHint(string secret, string guess) {
        unordered_map<char, int> map;
        int countA = 0, countB = 0;

        // 处理公牛，即位置和数值都相同的数字
        for(int i = 0; i < secret.length(); ++i) {
            if(secret[i] == guess [i]) {
                countA++;
                secret[i] = 'a';
                guess[i] = 'z';
            } else {
                map[guess[i]]++;   //先用hash记录猜过的每个数字的个数
            }
        }
        // 处理母牛，即数值相同但是位置不同
        for(int i = 0; i < secret.length(); ++i) {
            if (secret[i] >= '0' && secret[i] <= '9' 
                && map[secret[i]] >= 1 ) {  //检查hash表中有没有猜过的数字，有就加一，并把hash里的计数减一
                countB++;
                map[secret[i]]--;
            }
        }
        return to_string(countA) + "A" + to_string(countB) + "B";
    }
};

```

## Review

本周完成线性回归的学习，但欠代码实现；



## Tip

本周踩了Vxbox和Robotframework的坑

1. VXbox的控制芯片一定要选择“准虚拟化网络”，否则就会出现诡异ping不通的情况
2. robotframework安装完成后一直报错[error 2]，搜索别人解决方案是添加py的环境变量，我添加了N遍，但还是报错；最后重启windows解决，说明robotframework不会主动去更新环境变量！！！如果要使环境变量生效就需要reboot PC；


## Share

本周学习《程序员的自我修养》中静态链接的内容；

* 程序从源代码.c文件到可执行.o文件需要4步：
	* 预编译：main.c --> main.i 把c文件变成中间文件，去除注释、展开宏等操作；
	* 编译：main.i --> main.s  把中间文件翻译成汇编代码文件；
	* 汇编：main.s --> main.o 把汇编代码文件转变成目标文件；
	* 链接：将可重定位目标文件进行链接生成可执行目标文件；
* 目标文件（elf文件）有三种：
	* 可重定位目标文件：被用来链接成可执行目标文件或共享目标文件；
	* 可执行目标文件：可以直接执行的程序；
	* 共享目标文件：可以链接到**可重定位目标**或**共享目标文件**生成新的**目标文件**，也可以当做动态库直接与**可执行目标文件**结合
* coredump文件是一种特殊的ELE文件
	* 在进程意外终止时，将进程的地址空间的内容和终止时的一些其他信息转储到coredump文件
* elf文件由段结构组成，有三个比较关键的段：
	* data段：保存已初始化的全局变量和局部静态变量；
	* bss段：保存未初始化的全局变量和局部静态变量；
	* text段：保存代码；
* 静态链接如何合并两个目标文件？
	* 链接器采用**两步链接**的方法：
		* 第一步，空间与地址分配：扫描所有输入的目标文件，获取各个段的长度、属性和位置，并收集符号表和符号引用统一放到全局符号表，把多个文件按照相似段合并成一个输出文件（例如三个data段合并成一个data段）；
			* 空间分配是指重新分配虚拟地址空间（进程空间）；
			* 地址分配是指进程中的虚拟地址；
			* 虚·拟地址和物理地址的映射关系是另外的一个话题
		* 第二步，符号解析和重定位： 在输出文件中完成符号解析和重定位；
* 符号解析和重定位的过程是什么？
	* 符号解析：对于输入的目标文件来说，符号解析就是对外部符号的引用进行解析；
	* 重定位：把每个段中需要重定位的指令和数据进行“修补”，指向正确的位置
* 符号解析和重定位具体作用或者说过程是怎么样的？
	* 符号解析：当一个目标文件中引用了其他目标文件的符号时，该目标文件是不知道这个符号正确的地址是多少，只有链接时才可以在其他目标文件找到符号定义和地址，寻找外部符号地址的过程就是”符号解析“；解析外部符号后需要修正外部符号引用的地址，这个修正过程就叫做“重定位”